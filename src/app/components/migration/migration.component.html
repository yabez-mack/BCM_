<div class="app-main__inner">
  <div class="divider mt-0 mb-1"></div>
  <div class="row ml-0" style="margin: 0px">
    <div class="col-12 col-md-12">
      <div class="card mt-2">
        <ul class="body-tabs ml-2 body-tabs-layout nav">
          <!-- style="width: 100px; padding: 8px 5px;height:100%;display: flex;justify-content: center;align-items: center;" -->
          <li class="nav-item mr-1 ml-1 mt-2">
            <a
              id="tab-1"
              role="tab"
              data-bs-toggle="tab"
              data-bs-target="#migrate_subject"
              class="btn-pill btn-wide active btn btn-outline-primary btn-m"
              >SUBJECTS</a
            >
          </li>
          <li class="nav-item mr-1 ml-1 mt-2">
            <a
              id="tab-1"
              role="tab"
              data-bs-toggle="tab"
              data-bs-target="#migrate_class"
              class="btn-pill btn-wide btn btn-outline-primary btn-m"
              >CLASSES</a
            >
          </li>
          <li class="nav-item mr-1 ml-1 mt-2">
            <a
              id="tab-1"
              role="tab"
              data-bs-toggle="tab"
              data-bs-target="#migrate_student"
              class="btn-pill btn-wide btn btn-outline-primary btn-m"
              >STUDENT</a
            >
          </li>
          <li class="nav-item mr-1 ml-1 mt-2">
            <a
              id="tab-1"
              role="tab"
              data-bs-toggle="tab"
              data-bs-target="#migrate_employees"
              class="btn-pill btn-wide btn btn-outline-primary btn-m"
              >STAFF</a
            >
          </li>
          <li class="nav-item mr-1 ml-1 mt-2">
            <a
              id="tab-1"
              role="tab"
              data-bs-toggle="tab"
              data-bs-target="#migrate_fees"
              class="btn-pill btn-wide btn btn-outline-primary btn-m"
              >FEES</a
            >
          </li>
          <li class="nav-item mr-1 ml-1 mt-2">
            <a
              id="tab-1"
              role="tab"
              data-bs-toggle="tab"
              data-bs-target="#migrate_concession"
              class="btn-pill btn-wide btn btn-outline-primary btn-m"
              >CONCESSION</a
            >
          </li>
          <!-- <li class="nav-item mr-1 ml-1 mt-2">
            <a
              id="tab-1"
              role="tab"
              data-bs-toggle="tab"
              data-bs-target="#migrate_invoice"
              class="btn-pill btn-wide btn btn-outline-primary btn-m"
              >FEE-INVOICE</a
            >
          </li> -->
          <li class="nav-item mr-1 ml-1 mt-2">
            <a
              id="tab-1"
              role="tab"
              data-bs-toggle="tab"
              data-bs-target="#migrate_student_marks"
              class="btn-pill btn-wide btn btn-outline-primary btn-m"
              >STUDENT MARKS</a
            >
          </li>
          <li class="nav-item mr-1 ml-1 mt-2">
            <a
              id="tab-1"
              role="tab"
              data-bs-toggle="tab"
              data-bs-target="#migrate_notification"
              class="btn-pill btn-wide btn btn-outline-primary btn-m"
              >NOTIFICATION</a
            >
          </li>
          <li class="nav-item mr-1 ml-1 mt-2">
            <a
              id="tab-1"
              role="tab"
              data-bs-toggle="tab"
              data-bs-target="#migrate_homework"
              class="btn-pill btn-wide btn btn-outline-primary btn-m"
              >HOMEWORK</a
            >
          </li>
          <li class="nav-item mr-1 ml-1 mt-2">
            <a
              id="tab-1"
              role="tab"
              data-bs-toggle="tab"
              data-bs-target="#migrate_assignment"
              class="btn-pill btn-wide btn btn-outline-primary btn-m"
              >ASSIGNMENT</a
            >
          </li>
          <li class="nav-item mr-1 ml-1 mt-2">
            <a
              id="tab-1"
              role="tab"
              data-bs-toggle="tab"
              data-bs-target="#migrate_circular"
              class="btn-pill btn-wide btn btn-outline-primary btn-m"
              >CIRCULAR</a
            >
          </li>
          <li class="nav-item mr-1 ml-1 mt-2">
            <a
              id="tab-1"
              role="tab"
              data-bs-toggle="tab"
              data-bs-target="#migrate_showcase"
              class="btn-pill btn-wide btn btn-outline-primary btn-m"
              >SHOWCASE</a
            >
          </li>
          <li class="nav-item mr-1 ml-1 mt-2">
            <a
              id="tab-1"
              role="tab"
              data-bs-toggle="tab"
              data-bs-target="#migrate_attendance"
              class="btn-pill btn-wide btn btn-outline-primary btn-m"
              >ATTENDANCE</a
            >
          </li>
        </ul>

        <div class="tab-content ml-2 mt-2 main-card mb-3">
          <!-- [ngClass]="state=='student_manage'?'col-12 col-md-12 ml-n3 tab-pane tabs-animation fade show active':'col-12 col-md-12 ml-n3 tab-pane tabs-animation fade show'" -->
          <div
            id="migrate_subject"
            role="tabpanel"
            class="col-12 col-md-12 ml-n3 tab-pane tabs-animation fade show active"
            style="padding-right: 0px !important"
          >
            <!-- [ngClass]="state=='student_manage'?'col-12 col-md-12 ml-n3 tab-pane tabs-animation fade show active':'col-12 col-md-12 ml-n3 tab-pane tabs-animation fade show'" -->
            <div
              class="col-12 col-md-12 ml-n3"
              style="padding-right: 0px !important"
            >
              <div class="card-body pt-2">
                <div class="card-title">Select School</div>
                <form
                  [formGroup]="school_search_form"
                  class="col-md-12 mt-n2"
                  style="display: flex; padding: 0px"
                >
                  <ng-autocomplete
                    class="col-md-3_5"
                    [data]="schoolsList"
                    formControlName="school"
                    [searchKeyword]="keyword"
                    placeholder="Enter School Name"
                    (selected)="selected_school($event)"
                    [itemTemplate]="list"
                    style="padding: 0px"
                  >
                  </ng-autocomplete>

                  <ng-template #list let-item>
                    <a [innerHTML]="item.school_name"></a>
                  </ng-template>
                </form>
              </div>
              <div *ngIf="school_id" class="card-body pt-0">
                <div class="card-title">Subject List</div>
                <input
                  id="my-file-selector"
                  type="file"
                  (change)="upload_subject_excel($event)"
                />

                <form
                  *ngIf="inputs.controls.length > 0"
                  [formGroup]="Subject_Form"
                >
                  <div formArrayName="inputs">
                    <table class="table table-bordered">
                      <tr>
                        <th>S.No</th>
                        <th>Subject Name</th>
                        <th>Subject Code</th>
                        <th>Subject Category</th>
                        <th>Language Type</th>
                        <th>IB Subject</th>
                      </tr>
                      <tr *ngFor="let item of inputs.controls; let i = index">
                        <td>{{ i + 1 }}</td>
                        <td>
                          <div>
                            <input
                              class="form-control col-md-12"
                              (change)="set_value_column($event, i, 1)"
                              [value]="item.value.subject_name"
                              placeholder="Enter Subject Name*"
                            />
                          </div>
                        </td>
                        <td>
                          <div>
                            <input
                              class="form-control col-md-12"
                              (change)="set_value_column($event, i, 2)"
                              [value]="item.value.subject_code"
                              placeholder="Enter Subject Code"
                            />
                          </div>
                        </td>
                        <td>
                          <div>
                            <select
                              class="form-select col-md-12"
                              [value]="item.value.subject_category"
                              (change)="set_value_column($event, i, 3)"
                              style="color: #495057"
                            >
                              <option value="">Select Subject Type</option>
                              <option value="2">Main Subject</option>
                              <option value="1">Optional Subject</option>
                              <option value="3">Additional Subject</option>
                            </select>
                          </div>
                        </td>
                        <td>
                          <div>
                            <select
                              class="form-select col-md-12"
                              [value]="item.value.subject_type"
                              (change)="set_value_column($event, i, 4)"
                              placeholder="Subject Type"
                            >
                              <option value="">Select Type</option>
                              <option value="1">First Language</option>
                              <option value="2">Second Language</option>
                              <option value="3">Third Language</option>
                              <option value="5">Science</option>
                              <option value="6">Sports</option>
                              <!-- <option *ngIf="board_affil == '1'" value="10">
                      Group A
                    </option>
                    <option *ngIf="board_affil == '1'" value="11">
                      Group B
                    </option>
                    <option *ngIf="board_affil == '1'" value="12">
                      Group C
                    </option>
                    <option *ngIf="board_affil == '1'" value="13">
                      Group D
                    </option>
                    <option *ngIf="board_affil == '1'" value="14">
                      Group E
                    </option>
                    <option *ngIf="board_affil == '1'" value="15">
                      Group F
                    </option> -->
                              <option value="4">Others</option>
                            </select>
                          </div>
                        </td>
                        <td>
                          <div>
                            <select
                              class="form-select col-md-12"
                              [value]="item.value.IB_subject"
                              (change)="set_value_column($event, i, 5)"
                            >
                              <!-- *ngIf="board_affil == '1'" -->
                              <option value="">Select IB</option>
                              <option value="1">HL</option>
                              <option value="2">SL</option>
                            </select>
                          </div>
                        </td>
                      </tr>
                    </table>
                  </div>
                </form>
                <div *ngIf="inputs.controls.length > 0">
                  <button (click)="submit_subject()" class="btn btn-success">
                    SUBMIT
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div
            id="migrate_class"
            role="tabpanel"
            class="col-12 col-md-12 ml-n3 tab-pane tabs-animation fade show"
            style="padding-right: 0px !important"
          >
            <!-- [ngClass]="state=='student_manage'?'col-12 col-md-12 ml-n3 tab-pane tabs-animation fade show active':'col-12 col-md-12 ml-n3 tab-pane tabs-animation fade show'" -->
            <div
              class="col-12 col-md-12 ml-n3"
              style="padding-right: 0px !important"
            >
              <div class="card-body pt-2">
                <div class="card-title">Select School</div>
                <form
                  [formGroup]="school_search_form1"
                  class="col-md-12 mt-n2"
                  style="display: flex; padding: 0px"
                >
                  <ng-autocomplete
                    class="col-md-3_5"
                    [data]="schoolsList"
                    formControlName="school"
                    [searchKeyword]="keyword"
                    placeholder="Enter School Name"
                    (selected)="selected_school1($event)"
                    [itemTemplate]="list1"
                    style="padding: 0px"
                  >
                  </ng-autocomplete>

                  <ng-template #list1 let-item>
                    <a [innerHTML]="item.school_name"></a>
                  </ng-template>
                </form>
              </div>
              <div
                *ngIf="inputs1.controls.length > 0"
                class="card-body pt-0"
                style="overflow: auto"
              >
                <div class="card-title">Classes List</div>

                <form [formGroup]="Class_Form">
                  <div formArrayName="inputs1">
                    <table class="table table-bordered">
                      <tr>
                        <th>S.No</th>
                        <th>Class Name</th>
                        <th>Master Class</th>
                        <th>Subjects</th>
                        <th>Exam Pattern</th>
                        <th>Class Type</th>
                      </tr>
                      <tr *ngFor="let item of inputs1.controls; let i = index">
                        <td>{{ i + 1 }}</td>

                        <td>
                          <div>
                            <input
                              class="form-control col-md-12"
                              (change)="set_value_column1($event, i, 1)"
                              [value]="item.value.class_name"
                              placeholder="Enter Class Name"
                            />
                          </div>
                        </td>
                        <td>
                          <div>
                            <form [formGroup]="master_class_form">
                              <select
                                class="form-select col-md-12"
                                [formControlName]="item.value.id"
                                [value]="item.value.master_class_id"
                                (change)="set_value_column1($event, i, 2)"
                                style="color: #495057"
                              >
                                <option value="">Select Master Class</option>
                                <option
                                  [value]="item.id"
                                  *ngFor="let item of master_classes"
                                >
                                  {{ item.class_name }}
                                </option>
                              </select>
                            </form>
                          </div>
                        </td>
                        <td class="col-md-4">
                          <div *ngIf="!item.value.class_id">
                            <span
                              *ngFor="
                                let items of item.value.Subjects;
                                let k = index
                              "
                            >
                              {{
                                k == 0
                                  ? items.subject_name
                                  : ", " + items.subject_name
                              }}
                            </span>
                          </div>
                          <div *ngIf="item.value.class_id">
                            <span>
                              {{ item.value.subject_name }}
                            </span>
                          </div>
                        </td>
                        <td>
                          <div style="padding: 0px">
                            <select
                              [value]="item.value.class_group"
                              (change)="set_value_column1($event, i, 4)"
                              class="form-select col-md-12"
                              [disabled]="true"
                            >
                              <option value="">Select Exam Pattern</option>
                              <option value="1">Play Group</option>
                              <option value="2">Primary (I to V)</option>
                              <option value="3">Middle (VI to VIII)</option>
                              <option value="4">Secondary (IX to X)</option>
                              <option value="5">
                                Senior Secondary(XI to XII)
                              </option>
                              <option value="6">Degree Classes</option>
                            </select>
                          </div>
                        </td>
                        <td>
                          <div style="padding: 0px">
                            <select
                              class="form-select col-md-12"
                              [value]="item.value.class_type"
                              (change)="set_value_column1($event, i, 5)"
                            >
                              <option value="">Select Type</option>
                              <option value="1">CBSE - CCE</option>
                              <option value="3">State Board - CCE</option>
                              <option value="4">IGCSE</option>
                              <option value="5">ICSE</option>
                              <option value="2">Others</option>
                            </select>
                          </div>
                        </td>
                      </tr>
                    </table>
                  </div>
                </form>
                <div>
                  <button (click)="submit_class()" class="btn btn-success">
                    SUBMIT
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div
            id="migrate_student"
            class="col-12 col-md-12 ml-n3 tab-pane tabs-animation fade show"
            role="tabpanel"
            style="padding-right: 0px !important"
          >
            <div
              class="col-12 col-md-12 ml-n3"
              style="padding-right: 0px !important"
            >
              <div class="card-body pt-2">
                <div class="card-title">Select School</div>
                <form
                  [formGroup]="school_search_form2"
                  class="col-md-12 mt-n2"
                  style="display: flex; padding: 0px"
                >
                  <ng-autocomplete
                    class="col-md-3_5"
                    [data]="schoolsList"
                    formControlName="school"
                    [searchKeyword]="keyword"
                    placeholder="Enter School Name"
                    (selected)="selected_school2($event)"
                    [itemTemplate]="list1"
                    style="padding: 0px"
                  >
                  </ng-autocomplete>

                  <ng-template #list1 let-item>
                    <a [innerHTML]="item.school_name"></a>
                  </ng-template>
                </form>
              </div>
              <div
                *ngIf="inputs2.controls.length > 0 && show_student"
                class="card-body pt-0"
                style="overflow: auto"
              >
                <div class="card-title">Student List</div>

                <form [formGroup]="Student_Form">
                  <div formArrayName="inputs2">
                    <table
                      class="table table-bordered"
                      style="width: max-content; overflow: auto"
                    >
                      <tr>
                        <th>S.No</th>
                        <th *ngFor="let items of student_inputs; let j = index">
                          {{ items.title }}
                        </th>
                        <th>Validity</th>
                      </tr>
                      <tr
                        *ngFor="let item of inputs2.controls; let i = index"
                        [ngClass]="
                          item.value.dublicate
                            ? 'background_blue'
                            : item.value.ischecked
                            ? 'background_green'
                            : 'background_red'
                        "
                      >
                        <td>
                          <div
                            style="
                              display: flex;
                              align-items: center;
                              justify-content: center;
                              background: transparent;
                            "
                          >
                            {{ i + 1 }}
                          </div>
                        </td>
                        <td *ngFor="let items of student_inputs; let j = index">
                          <div
                            *ngIf="items.type == 1"
                            style="padding: 0px; background: transparent"
                          >
                            <input
                              class="form-control col-md-12"
                              (change)="
                                set_value_column2($event, i, items.name)
                              "
                              [value]="item.value[items.name]"
                              [placeholder]="items.title"
                            />
                          </div>
                          <div
                            *ngIf="items.type == 2"
                            style="padding: 0px; background: transparent"
                          >
                            <input
                              class="form-control col-md-12"
                              onkeypress=" return event.charCode>=48 && event.charCode<=57"
                              (change)="
                                set_value_column2($event, i, items.name)
                              "
                              [value]="item.value[items.name]"
                              [placeholder]="items.title"
                            />
                          </div>
                          <div
                            *ngIf="items.type == 4"
                            style="padding: 0px; background: transparent"
                          >
                            <input
                              minlength="10"
                              maxlength="10"
                              pattern="\d{10}"
                              onkeypress=" return event.charCode>=48 && event.charCode<=57"
                              class="form-control col-md-12"
                              (change)="
                                set_value_column2($event, i, items.name)
                              "
                              [value]="item.value[items.name]"
                              [placeholder]="items.title"
                            />
                          </div>
                          <div
                            *ngIf="items.type == 3"
                            style="padding: 0px; background: transparent"
                          >
                            <input
                              type="date"
                              class="form-control col-md-12"
                              (change)="
                                set_value_column2($event, i, items.name)
                              "
                              [value]="item.value[items.name]"
                              [placeholder]="items.title"
                            />
                          </div>
                          <form
                            *ngIf="items.type == 5"
                            [formGroup]="class_select_form"
                            style="background: transparent"
                          >
                            <select
                              *ngIf="item.value.student_reg_id"
                              class="form-select col-md-12"
                              (change)="
                                set_value_column2($event, i, items.name)
                              "
                              [formControlName]="item.value.ids"
                              [value]="item.value.class_id"
                            >
                              <option>Select Class</option>
                              <option
                                *ngFor="let items of class_list1"
                                [value]="items.class_id"
                              >
                                {{ items.class_name }}
                              </option>
                            </select>
                          </form>
                          <div
                            *ngIf="items.type == 6"
                            style="background: transparent"
                          >
                            <select
                              class="form-select col-md-12"
                              (change)="
                                set_value_column2($event, i, items.name)
                              "
                              [value]="item.value[items.name]"
                            >
                              <option>Select Gender</option>
                              <option value="M">Male</option>
                              <option value="F">Female</option>
                            </select>
                          </div>
                          <div
                            *ngIf="items.type == 7"
                            style="background: transparent"
                          >
                            <select
                              class="form-select col-md-12"
                              (change)="
                                set_value_column2($event, i, items.name)
                              "
                              [value]="item.value[items.name]"
                            >
                              <option>Select Caste Category</option>
                              <option value="1">GENERAL</option>
                              <option value="2">OBC</option>
                              <option value="3">SC</option>
                              <option value="4">ST</option>
                              <option value="5">OC</option>
                            </select>
                          </div>
                          <div
                            *ngIf="items.type == 8"
                            style="background: transparent"
                          >
                            <select
                              class="form-select col-md-12"
                              (change)="
                                set_value_column2($event, i, items.name)
                              "
                              [value]="item.value[items.name]"
                            >
                              <option value="1">Yes</option>
                              <option value="2">No</option>
                            </select>
                          </div>
                        </td>
                        <td>
                          <div
                            [ngClass]="
                              item.value.dublicate
                                ? 'blue'
                                : item.value.ischecked
                                ? 'green'
                                : 'red'
                            "
                            style="background: transparent"
                          >
                            {{
                              item.value.dublicate
                                ? "Dublicate"
                                : item.value.ischecked
                                ? "VALID"
                                : "INVALID"
                            }}
                          </div>
                        </td>
                      </tr>
                    </table>
                  </div>
                </form>
                <div>
                  <button (click)="submit_student()" class="btn btn-success">
                    SUBMIT
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div
            id="migrate_employees"
            class="col-12 col-md-12 ml-n3 tab-pane tabs-animation fade show"
            role="tabpanel"
            style="padding-right: 0px !important"
          >
            <div
              class="col-12 col-md-12 ml-n3 tab-pane tabs-animation fade show active"
              style="padding-right: 0px !important"
            >
              <div class="card-body pt-2">
                <div class="card-title">Select School</div>
                <form
                  [formGroup]="school_search_form3"
                  class="col-md-12 mt-n2"
                  style="display: flex; padding: 0px"
                >
                  <ng-autocomplete
                    class="col-md-3_5"
                    [data]="schoolsList"
                    formControlName="school"
                    [searchKeyword]="keyword"
                    placeholder="Enter School Name"
                    (selected)="selected_school3($event)"
                    [itemTemplate]="list"
                    style="padding: 0px"
                  >
                  </ng-autocomplete>

                  <ng-template #list let-item>
                    <a [innerHTML]="item.school_name"></a>
                  </ng-template>
                  <select
                    formControlName="view_type"
                    class="col-md-3 ml-3 form-select"
                  >
                    <option value="all">All</option>
                    <option value="1">Employee</option>
                    <option value="2">Teacher</option>
                  </select>
                </form>
              </div>
              <div
                *ngIf="
                  inputs3.controls.length > 0 &&
                  new_employee_list.length > 0 &&
                  (school_search_form3.value.view_type == '1' ||
                    school_search_form3.value.view_type == 'all')
                "
                class="card-body mb-5 pt-0"
                style="overflow: auto"
              >
                <div class="card-title">Staff List</div>

                <form [formGroup]="Employee_Form">
                  <div formArrayName="inputs3">
                    <table
                      class="table table-bordered"
                      style="width: max-content; overflow: auto"
                    >
                      <tr>
                        <th>S.No</th>
                        <th>Role Name</th>
                        <th *ngFor="let item of staff_inputs; let i = index">
                          {{ item.title }}
                        </th>
                        <th>Valid</th>
                      </tr>
                      <tr
                        *ngFor="let item of inputs3.controls; let i = index"
                        [ngClass]="
                          item.value.dublicate
                            ? 'background_blue'
                            : item.value.ischecked
                            ? 'background_green'
                            : 'background_red'
                        "
                      >
                        <td>
                          <div
                            style="
                              display: flex;
                              align-items: center;
                              justify-content: center;
                              background: transparent;
                            "
                          >
                            {{ i + 1 }}
                          </div>
                        </td>
                        <td>
                          <div style="padding: 0px; background: transparent">
                            {{ item.value.role }}
                          </div>
                        </td>
                        <td *ngFor="let items of staff_inputs; let j = index">
                          <div
                            *ngIf="items.type == 1"
                            style="padding: 0px; background: transparent"
                          >
                            <input
                              class="form-control col-md-12"
                              (change)="
                                set_value_column3($event, i, items.name)
                              "
                              [value]="item.value[items.name]"
                              [placeholder]="'Enter ' + items.title"
                            />
                          </div>
                          <div
                            *ngIf="items.type == 12"
                            style="padding: 0px; background: transparent"
                          >
                            <input
                              class="form-control col-md-12"
                              (change)="
                                set_value_column3($event, i, items.name)
                              "
                              [value]="item.value[items.name]"
                              [placeholder]="'Enter ' + items.title"
                            />
                          </div>
                          <div
                            *ngIf="items.type == 2"
                            style="padding: 0px; background: transparent"
                          >
                            <input
                              class="form-control col-md-12"
                              onkeypress=" return event.charCode>=48 && event.charCode<=57"
                              (change)="
                                set_value_column3($event, i, items.name)
                              "
                              [value]="item.value[items.name]"
                              [placeholder]="'Enter ' + items.title"
                            />
                          </div>
                          <div
                            *ngIf="items.type == 4"
                            style="padding: 0px; background: transparent"
                          >
                            <input
                              *ngIf="items.type == 'mobile'"
                              class="form-control col-md-12"
                              minlength="10"
                              maxlength="10"
                              pattern="\d{10}"
                              onkeypress=" return event.charCode>=48 && event.charCode<=57"
                              (change)="set_value_column3($event, i, 'mobile')"
                              [value]="item.value[items.name]"
                              [placeholder]="'Enter ' + items.title"
                            />
                            <input
                              *ngIf="items.type != 'mobile'"
                              class="form-control col-md-12"
                              minlength="10"
                              maxlength="10"
                              pattern="\d{10}"
                              onkeypress=" return event.charCode>=48 && event.charCode<=57"
                              (change)="
                                set_value_column3($event, i, items.name)
                              "
                              [value]="item.value[items.name]"
                              [placeholder]="'Enter ' + items.title"
                            />
                          </div>
                          <div
                            *ngIf="items.type == 3"
                            style="padding: 0px; background: transparent"
                          >
                            <input
                              type="date"
                              class="form-control col-md-12"
                              (change)="
                                set_value_column3($event, i, items.name)
                              "
                              [value]="item.value[items.name]"
                              [placeholder]="'Enter ' + items.title"
                            />
                          </div>
                          <div
                            *ngIf="items.type == 9"
                            style="padding: 0px; background: transparent"
                          >
                            <input
                              type="time"
                              class="form-control col-md-12"
                              (change)="
                                set_value_column3($event, i, items.name)
                              "
                              [value]="item.value[items.name]"
                              [placeholder]="'Enter ' + items.title"
                            />
                          </div>
                          <form
                            *ngIf="items.type == 5"
                            [formGroup]="role_select_form"
                            style="background: transparent"
                          >
                            <select
                              class="form-select col-md-12"
                              *ngIf="item.value.existing"
                              (change)="
                                set_value_column3($event, i, items.name)
                              "
                              [formControlName]="item.value.staff_reg_id"
                            >
                              <!-- [value]="item.value.role_id" -->
                              <option value="">Select Role</option>
                              <option
                                *ngFor="let items of role_list"
                                [value]="items.id"
                              >
                                {{ items.role_name }}
                              </option>
                            </select>
                            <select
                              class="form-select col-md-12"
                              *ngIf="!item.value.existing"
                              (change)="
                                set_value_column3($event, i, items.name)
                              "
                              [formControlName]="item.value.EmployeeID"
                            >
                              <!-- [value]="item.value.role_id" -->
                              <option value="">Select Role</option>
                              <option
                                *ngFor="let items of role_list"
                                [value]="items.id"
                              >
                                {{ items.role_name }}
                              </option>
                            </select>
                          </form>
                          <div
                            *ngIf="items.type == 6"
                            style="background: transparent"
                          >
                            <select
                              class="form-select col-md-12"
                              (change)="
                                set_value_column3($event, i, items.name)
                              "
                              [value]="item.value[items.name]"
                            >
                              <option>Select Gender</option>
                              <option value="M">Male</option>
                              <option value="F">Female</option>
                            </select>
                          </div>

                          <div
                            *ngIf="items.type == 8"
                            style="background: transparent"
                          >
                            <select
                              class="form-select col-md-12"
                              (change)="
                                set_value_column3($event, i, items.name)
                              "
                              [value]="item.value[items.name]"
                            >
                              <option value="1">Yes</option>
                              <option value="2">No</option>
                            </select>
                          </div>
                          <div
                            *ngIf="items.type == 11"
                            style="background: transparent"
                          >
                            <select
                              class="form-select col-md-12"
                              (change)="
                                set_value_column3($event, i, items.name)
                              "
                              [value]="item.value[items.name]"
                            >
                              <option value="">Select Employee</option>
                              <option value="1">Pre</option>
                              <option value="2">Junior</option>
                              <option value="3">High</option>
                            </select>
                          </div>
                          <div
                            *ngIf="items.type == 10"
                            style="background: transparent"
                          >
                            <select
                              class="form-select col-md-12"
                              (change)="
                                set_value_column3($event, i, items.name)
                              "
                              [value]="item.value[items.name]"
                            >
                              <option value="">Select Employment Type</option>
                              <option value="1">Permanent</option>
                              <option value="2">Probation</option>
                              <option value="3">Contract</option>
                              <option value="4">Part-Time</option>
                            </select>
                          </div>
                        </td>
                        <td>
                          <div
                            [ngClass]="
                              item.value.dublicate
                                ? 'blue'
                                : item.value.ischecked
                                ? 'green'
                                : 'red'
                            "
                            style="background: transparent"
                          >
                            {{
                              item.value.dublicate
                                ? "Dublicate"
                                : item.value.ischecked
                                ? "VALID"
                                : "INVALID"
                            }}
                          </div>
                        </td>
                      </tr>
                    </table>
                  </div>
                </form>
                <div>
                  <button (click)="submit_employee()" class="btn btn-success">
                    SUBMIT
                  </button>
                </div>
              </div>
              <div
                *ngIf="
                  inputs4.controls.length > 0 &&
                  (school_search_form3.value.view_type == '2' ||
                    school_search_form3.value.view_type == 'all')
                "
                class="card-body pt-0"
                style="overflow: auto"
              >
                <div class="card-title">Teacher List</div>
                <form [formGroup]="Teacher_Form">
                  <div formArrayName="inputs4">
                    <table
                      class="table table-bordered"
                      style="width: max-content; overflow: auto"
                    >
                      <tr>
                        <th>S.No</th>
                        <th>Role Name</th>
                        <th *ngFor="let items of staff_inputs">
                          {{ items.title }}
                        </th>
                        <th>Validity</th>
                      </tr>
                      <tr
                        *ngFor="let item of inputs4.controls; let i = index"
                        [ngClass]="
                          item.value.dublicate
                            ? 'background_blue'
                            : item.value.ischecked
                            ? 'background_green'
                            : 'background_red'
                        "
                      >
                        <td>
                          <div
                            style="
                              display: flex;
                              align-items: center;
                              justify-content: center;
                              background: transparent;
                            "
                          >
                            {{ i + 1 }}
                          </div>
                        </td>
                        <td>
                          <div style="padding: 0px; background: transparent">
                            {{ item.value.role }}
                          </div>
                        </td>

                        <td *ngFor="let items of staff_inputs; let j = index">
                          <div
                            *ngIf="items.type == 1"
                            style="padding: 0px; background: transparent"
                          >
                            <input
                              class="form-control col-md-12"
                              (change)="
                                set_value_column4($event, i, items.name)
                              "
                              [value]="item.value[items.name]"
                              [placeholder]="'Enter ' + items.title"
                            />
                          </div>
                          <div
                            *ngIf="items.type == 12"
                            style="padding: 0px; background: transparent"
                          >
                            <input
                              class="form-control col-md-12"
                              (change)="
                                set_value_column4($event, i, 'teacher_reg_id')
                              "
                              [value]="item.value.teacher_reg_id"
                              [placeholder]="'Enter ' + items.title"
                            />
                          </div>
                          <div
                            *ngIf="items.type == 2"
                            style="padding: 0px; background: transparent"
                          >
                            <input
                              class="form-control col-md-12"
                              onkeypress=" return event.charCode>=48 && event.charCode<=57"
                              (change)="
                                set_value_column4($event, i, items.name)
                              "
                              [value]="item.value[items.name]"
                              [placeholder]="'Enter ' + items.title"
                            />
                          </div>
                          <div
                            *ngIf="items.type == 4"
                            style="padding: 0px; background: transparent"
                          >
                            <input
                              *ngIf="items.type == 'mobile'"
                              class="form-control col-md-12"
                              minlength="10"
                              maxlength="10"
                              pattern="\d{10}"
                              onkeypress=" return event.charCode>=48 && event.charCode<=57"
                              (change)="
                                set_value_column3($event, i, 'residence_phone')
                              "
                              [value]="item.value[items.name]"
                              [placeholder]="'Enter ' + items.title"
                            />
                            <input
                              *ngIf="items.type != 'mobile'"
                              class="form-control col-md-12"
                              minlength="10"
                              maxlength="10"
                              pattern="\d{10}"
                              onkeypress=" return event.charCode>=48 && event.charCode<=57"
                              (change)="
                                set_value_column3($event, i, items.name)
                              "
                              [value]="item.value[items.name]"
                              [placeholder]="'Enter ' + items.title"
                            />
                          </div>
                          <div
                            *ngIf="items.type == 3"
                            style="padding: 0px; background: transparent"
                          >
                            <input
                              type="date"
                              class="form-control col-md-12"
                              (change)="
                                set_value_column4($event, i, items.name)
                              "
                              [value]="item.value[items.name]"
                              [placeholder]="'Enter ' + items.title"
                            />
                          </div>
                          <div
                            *ngIf="items.type == 9"
                            style="padding: 0px; background: transparent"
                          >
                            <input
                              type="time"
                              class="form-control col-md-12"
                              (change)="
                                set_value_column4($event, i, items.name)
                              "
                              [value]="item.value[items.name]"
                              [placeholder]="'Enter ' + items.title"
                            />
                          </div>
                          <form
                            *ngIf="items.type == 5"
                            [formGroup]="role_select_form"
                            style="background: transparent"
                          >
                            <fieldset
                              class="col-md-12"
                              style="background: transparent"
                              disabled
                            >
                              <select
                                class="form-select"
                                *ngIf="item.value.existing"
                                (change)="
                                  set_value_column4($event, i, items.name)
                                "
                                [formControlName]="item.value.staff_reg_id"
                              >
                                <!-- [value]="item.value.role_id" -->
                                <option value="">Select Role</option>
                                <option
                                  *ngFor="let items of role_list"
                                  [value]="items.id"
                                >
                                  {{ items.role_name }}
                                </option>
                              </select>
                              <select
                                class="form-select"
                                *ngIf="!item.value.existing"
                                (change)="
                                  set_value_column4($event, i, items.name)
                                "
                                [formControlName]="item.value.EmployeeID"
                              >
                                <!-- [value]="item.value.role_id" -->
                                <option value="">Select Role</option>
                                <option
                                  *ngFor="let items of role_list"
                                  [value]="items.id"
                                >
                                  {{ items.role_name }}
                                </option>
                              </select>
                            </fieldset>
                          </form>
                          <div
                            *ngIf="items.type == 6"
                            style="background: transparent"
                          >
                            <select
                              class="form-select col-md-12"
                              (change)="
                                set_value_column4($event, i, items.name)
                              "
                              [value]="item.value[items.name]"
                            >
                              <option>Select Gender</option>
                              <option value="M">Male</option>
                              <option value="F">Female</option>
                            </select>
                          </div>

                          <div
                            *ngIf="items.type == 8"
                            style="background: transparent"
                          >
                            <select
                              class="form-select col-md-12"
                              (change)="
                                set_value_column4($event, i, items.name)
                              "
                              [value]="item.value[items.name]"
                            >
                              <option value="1">Yes</option>
                              <option value="2">No</option>
                            </select>
                          </div>
                          <div
                            *ngIf="items.type == 11"
                            style="background: transparent"
                          >
                            <select
                              class="form-select col-md-12"
                              (change)="
                                set_value_column4($event, i, items.name)
                              "
                              [value]="item.value[items.name]"
                            >
                              <option value="">Select Employee</option>
                              <option value="1">Pre</option>
                              <option value="2">Junior</option>
                              <option value="3">High</option>
                            </select>
                          </div>
                          <div
                            *ngIf="items.type == 10"
                            style="background: transparent"
                          >
                            <select
                              class="form-select col-md-12"
                              (change)="
                                set_value_column4($event, i, items.name)
                              "
                              [value]="item.value[items.name]"
                            >
                              <option value="">Select Employment Type</option>
                              <option value="1">Permanent</option>
                              <option value="2">Probation</option>
                              <option value="3">Contract</option>
                              <option value="4">Part-Time</option>
                            </select>
                          </div>
                        </td>

                        <td>
                          <div
                            [ngClass]="
                              item.value.dublicate
                                ? 'blue'
                                : item.value.ischecked
                                ? 'green'
                                : 'red'
                            "
                            style="background: transparent"
                          >
                            {{
                              item.value.dublicate
                                ? "Dublicate"
                                : item.value.ischecked
                                ? "VALID"
                                : "INVALID"
                            }}
                          </div>
                        </td>
                        <!-- <td>
                            <div style="padding: 0px">
                              <form [formGroup]="role_select_form">
                                <select
                                  class="form-select col-md-12"
                                  *ngIf="item.value.staff_reg_id"
                                  (change)="set_value_column4($event, i, 4)"
                                  [formControlName]="item.value.staff_reg_id"
                                >
                                  <option>Select Role</option>
                                  <option
                                    *ngFor="let items of role_list"
                                    [value]="items.id"
                                  >
                                    {{ items.role_name }}
                                  </option>
                                </select>
                                <select
                                  class="form-select col-md-12"
                                  *ngIf="!item.value.staff_reg_id"
                                  (change)="set_value_column4($event, i, 4)"
                                  [formControlName]="item.value.EmployeeID"
                                >
                                  <option>Select Role</option>
                                  <option
                                    *ngFor="let items of role_list"
                                    [value]="items.id"
                                  >
                                    {{ items.role_name }}
                                  </option>
                                </select>
                              </form>
                            </div>
                          </td> -->
                      </tr>
                    </table>
                  </div>
                </form>
                <div>
                  <button (click)="submit_teacher()" class="btn btn-success">
                    SUBMIT
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div
            id="migrate_fees"
            class="col-12 col-md-12 ml-n3 tab-pane tabs-animation fade show"
            role="tabpanel"
            style="padding-right: 0px !important"
          >
            <div
              class="col-12 col-md-12 ml-n3 tab-pane tabs-animation fade show active"
              style="padding-right: 0px !important"
            >
              <div class="card-body pt-2">
                <div class="card-title">Select School</div>
                <form
                  [formGroup]="school_search_form4"
                  class="col-md-12 mt-n2"
                  style="display: flex; padding: 0px"
                >
                  <ng-autocomplete
                    class="col-md-3_5"
                    [data]="schoolsList"
                    formControlName="school"
                    [searchKeyword]="keyword"
                    placeholder="Enter School Name"
                    (selected)="selected_school4($event)"
                    [itemTemplate]="list"
                    style="padding: 0px"
                  >
                  </ng-autocomplete>

                  <ng-template #list let-item>
                    <a [innerHTML]="item.school_name"></a>
                  </ng-template>
                </form>
              </div>
              <div
                *ngIf="inputs6.controls.length > 0"
                class="card-body mb-5 pt-0"
                style="overflow: auto"
              >
                <div class="card-title">Fee Student List</div>

                <form [formGroup]="Fee_Form">
                  <div formArrayName="inputs6">
                    <div class="row" style="display: flex; align-items: center">
                      <div class="mt-1 mb-1" style="width: 80px">S.No</div>
                      <div class="col-md-1 mt-1 mb-1 ml-3">Reg Id</div>
                      <div class="col-md-2_5 mt-1 mb-1 ml-3">Fee Head</div>
                      <div class="col-md-2_5 ml-3 mt-1 mb-1">Fee Term</div>
                      <div class="col-md-2_5 ml-3 mt-1 mb-1">Amount</div>
                      <div class="col-md-1 mt-1 mb-1">Validity</div>
                    </div>
                    <div
                      *ngFor="let item of inputs6.controls; let j = index"
                      [formGroupName]="j"
                      class="row"
                      [ngClass]="
                        item.value.valid ? 'background_green' : 'background_red'
                      "
                    >
                      <div
                        style="
                          width: 80px;
                          display: flex;
                          align-items: center;
                          justify-content: center;
                          background: transparent;
                        "
                        class="mt-1 mb-1"
                      >
                        {{ j + 1 }}
                      </div>
                      <div
                        class="col-md-1 mt-1 mb-1 ml-3"
                        style="background: transparent"
                      >
                        {{ item.value.std_reg_id }}
                      </div>
                      <select
                        class="form-select col-md-2_5 ml-3 mt-1 mb-1"
                        (change)="set_value_column6($event, j, 'index')"
                        formControlName="assigned_id"
                      >
                        <option value="">Select Fee Head</option>
                        <option
                          *ngFor="let items of fee_list"
                          [value]="items.assigned_id"
                        >
                          {{ items.fee_head }}
                        </option>
                      </select>
                      <select
                        class="form-select col-md-2_5 ml-3 mt-1 mb-1"
                        formControlName="term_id"
                        (change)="set_value_column6($event, j, '')"
                      >
                        <option value="">Select Fee Term</option>
                        <option
                          *ngFor="
                            let items of fee_list[
                              item.value.index ? item.value.index : 0
                            ].fee_term
                          "
                          [value]="items.term_id"
                        >
                          {{ items.term_name }}
                        </option>
                      </select>
                      <input
                        class="form-control col-md-2_5 ml-3 mt-1 mb-1"
                        formControlName="fee"
                        [placeholder]="'Enter Fee'"
                      />
                      <div
                        style="
                          display: flex;
                          align-items: center;
                          justify-content: center;
                          background: transparent;
                        "
                        [ngClass]="
                          item.value.valid
                            ? 'col-md-1 green mt-1 mb-1'
                            : 'col-md-1 red mt-1 mb-1'
                        "
                      >
                        {{ item.value.valid ? "VALID" : "INVALID" }}
                      </div>
                    </div>
                  </div>
                </form>
                <div>
                  <button
                    (click)="submit_fees()"
                    class="btn btn-success"
                    style="width: max-content"
                  >
                    SUBMIT
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div
            id="migrate_concession"
            class="col-12 col-md-12 ml-n3 tab-pane tabs-animation fade show"
            role="tabpanel"
            style="padding-right: 0px !important"
          >
            <div
              class="col-12 col-md-12 ml-n3 tab-pane tabs-animation fade show active"
              style="padding-right: 0px !important"
            >
              <div class="card-body pt-2">
                <div class="card-title">Select School</div>
                <form
                  [formGroup]="school_search_form5"
                  class="col-md-12 mt-n2"
                  style="display: flex; padding: 0px"
                >
                  <ng-autocomplete
                    class="col-md-3_5"
                    [data]="schoolsList"
                    formControlName="school"
                    [searchKeyword]="keyword"
                    placeholder="Enter School Name"
                    (selected)="selected_school5($event)"
                    [itemTemplate]="list"
                    style="padding: 0px"
                  >
                  </ng-autocomplete>

                  <ng-template #list let-item>
                    <a [innerHTML]="item.school_name"></a>
                  </ng-template>
                </form>
              </div>
              <div
                *ngIf="inputs5.controls.length > 0"
                class="card-body mb-5 pt-0"
                style="overflow: auto"
              >
                <div class="card-title">Concession Student List</div>

                <form [formGroup]="Concession_Form">
                  <div formArrayName="inputs5">
                    <div class="row" style="display: flex; align-items: center">
                      <div class="mt-1 mb-1" style="width: 80px">S.No</div>
                      <div class="col-md-1 mt-1 mb-1">Reg Id</div>
                      <div class="col-md-2 mt-1 mb-1">Fee Head</div>
                      <div class="col-md-2 ml-2 mt-1 mb-1">Fee Term</div>
                      <div class="col-md-2 ml-2 mt-1 mb-1">Concession</div>
                      <div class="col-md-1 ml-2 mt-1 mb-1">Amount</div>
                      <div class="col-md-1 mt-1 mb-1">Reason</div>
                      <div class="col-md-1 mt-1 mb-1">Validity</div>
                    </div>
                    <div
                      *ngFor="let item of inputs5.controls; let j = index"
                      [formGroupName]="j"
                      class="row"
                      [ngClass]="
                        item.value.valid ? 'background_green' : 'background_red'
                      "
                    >
                      <div
                        class="mt-1 mb-1"
                        style="
                          width: 80px;
                          display: flex;
                          align-items: center;
                          justify-content: center;
                          background: transparent;
                        "
                      >
                        {{ j + 1 }}
                      </div>
                      <div
                        class="col-md-1 mt-1 mb-1"
                        style="
                          width: max-content;
                          display: flex;
                          align-items: center;
                          justify-content: center;
                          background: transparent;
                        "
                      >
                        {{ item.value.std_reg_id }}
                      </div>
                      <select
                        class="form-select col-md-2 ml-2 mt-1 mb-1"
                        (change)="set_value_column7($event, j, 'index')"
                        formControlName="assigned_id"
                      >
                        <option value="">Select Fee Head</option>
                        <option
                          *ngFor="let items of fee_list1"
                          [value]="items.assigned_id"
                        >
                          {{ items.fee_head }}
                        </option>
                      </select>
                      <select
                        class="form-select col-md-2 ml-2 mt-1 mb-1"
                        formControlName="term_id"
                        (change)="set_value_column7($event, j, '')"
                      >
                        <option value="">Select Fee Term</option>
                        <option
                          *ngFor="
                            let items of fee_list1[
                              item.value.index ? item.value.index : 0
                            ].fee_term
                          "
                          [value]="items.term_id"
                        >
                          {{ items.term_name }}
                        </option>
                      </select>
                      <select
                        class="form-select col-md-2 ml-2 mt-1 mb-1"
                        formControlName="concession_id"
                        (change)="set_value_column7($event, j, '')"
                      >
                        <option value="">Select Concession</option>
                        <option
                          *ngFor="let items of concession_list"
                          [value]="items.id"
                        >
                          {{ items.title }}
                        </option>
                      </select>
                      <input
                        class="form-control col-md-1 ml-2 mt-1 mb-1"
                        formControlName="concession_amount"
                        [placeholder]="'Enter Concession'"
                        (change)="set_value_column7($event, j, '')"
                      />
                      <input
                        class="form-control col-md-1 ml-2 mt-1 mb-1"
                        formControlName="concession_reason"
                        [placeholder]="'Enter Reason'"
                      />
                      <div
                        style="
                          width: max-content;
                          display: flex;
                          align-items: center;
                          justify-content: center;
                          background: transparent;
                        "
                        [ngClass]="
                          item.value.valid ? 'green mt-1 mb-1' : 'red mt-1 mb-1'
                        "
                      >
                        {{ item.value.valid ? "VALID" : "INVALID" }}
                      </div>
                    </div>
                  </div>
                </form>
                <div>
                  <button
                    (click)="submit_concession()"
                    class="btn btn-success"
                    style="width: max-content"
                  >
                    SUBMIT
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div
            id="migrate_student_marks"
            class="col-12 col-md-12 ml-n3 tab-pane tabs-animation fade show"
            role="tabpanel"
            style="padding-right: 0px !important"
          >
            <div
              class="col-12 col-md-12 ml-n3"
              style="padding-right: 0px !important"
            >
              <div class="card-body pt-2">
                <div class="card-title">Select School</div>
                <form
                  [formGroup]="school_search_form7"
                  class="row col-md-12 mt-n2"
                  style="display: flex; padding: 0px"
                >
                  <ng-autocomplete
                    class="col-md-2_5 ml-3 mt-2"
                    [data]="schoolsList"
                    formControlName="school"
                    [searchKeyword]="keyword"
                    placeholder="Enter School Name"
                    (selected)="set_school_for_exam($event)"
                    [itemTemplate]="list"
                    style="padding: 0px"
                  >
                  </ng-autocomplete>

                  <ng-template #list let-item>
                    <a [innerHTML]="item.school_name"></a>
                  </ng-template>

                  <select
                    formControlName="from_ay"
                    class="col-md-2_5 mt-2 ml-3 form-select"
                  >
                    <option value="">Select From Academic Year</option>
                    <option
                      [value]="item.Id"
                      *ngFor="let item of patsala_ay"
                    >
                      {{ item.Name }}
                    </option>
                  </select>
                  <select
                    formControlName="to_ay"
                    class="col-md-2_5 mt-2 ml-3 form-select"
                  >
                    <option value="">Select To Academic Year</option>
                    <option
                    [value]="item.id"
                    *ngFor="let item of academic_year_list"
                  >
                    {{ item.academic_year }}
                  </option>
                  </select>
                  <select
                    (change)="get_exams($event)"
                    formControlName="from_class"
                    class="col-md-2_5 mt-2 ml-3 form-select"
                  >
                    <option value="">Select From Class</option>
                    <option
                      [value]="item.class_id"
                      *ngFor="let item of class_list2"
                    >
                      {{ item.class_name }}
                    </option>
                  </select>
                  <select
                    formControlName="from_exam"
                    class="col-md-2_5 mt-2 ml-3 form-select"
                  >
                    <option value="">Select From Exam</option>
                    <option [value]="item.Id" *ngFor="let item of exam_list">
                      {{ item.Name }}
                    </option>
                  </select>
                  <select
                    formControlName="to_exam"
                    class="col-md-2_5 mt-2 ml-3 form-select"
                  >
                    <option value="">Select To Exam</option>
                    <option
                      [value]="item.exam_id"
                      *ngFor="let item of school_exam_list"
                    >
                      {{ item.type_of_exam }}
                    </option>
                  </select>
                  

                  <button
                    (click)="selected_school7()"
                    class="btn btn-success mt-2 ml-3"
                    style="width: max-content"
                  >
                    SEARCH
                  </button>
                  <button
                  *ngIf="student_exam_marks.length > 0"
                  (click)="excel_sheet1()"
                  class="ml-3 mb-mb-3 btn btn-success"
                  style="width: max-content"
                >
                  <img
                    class="msexcel"
                    src="https://schoolknot.com/req_excel.png"
                    style="margin-top: -5px"
                  />
                  DOWNLOAD
                </button>
                </form>
              </div>
              <div
                *ngIf="inputs8.controls.length > 0"
                class="card-body mb-5 pt-0"
                style="overflow: auto"
              >
              <div>
                <select (change)="set_marks_category($event)"
                  class="col-md-2_5 mt-2 ml-3 form-select">
                  <option value="">Select Category</option>
                    <option
                      [value]="item.id"
                      *ngFor="let item of category_list"
                    >
                      {{ item.category_name }}
                    </option>
                  </select>
              </div>
                <div class="card-title">Exams Student List</div>

                <form [formGroup]="Student_Marks_Form">
                  <div formArrayName="inputs8">
                    <div class="row" style="display: flex; align-items: center">
                      <div class="col-md-1 mt-1 mb-1">S.No</div>
                      <div class="col-md-1 mt-1 mb-1">Reg Id</div>
                      <div class="col-md-1 mt-1 mb-1">ES Id</div>
                      <div class="col-md-2 ml-2 mt-1 mb-1">Category</div>
                      <div class="col-md-2 ml-2 mt-1 mb-1">Subject</div>
                      <div class="col-md-2 ml-2 mt-1 mb-1">Marks</div>
                      <div class="col-md-1 mt-1 mb-1">Max-Mark</div>
                      <div class="col-md-1 mt-1 mb-1">Validity</div>
                    </div>
                    <div
                      *ngFor="let item of inputs8.controls; let j = index"
                      [formGroupName]="j"
                      class="row"
                      [ngClass]="
                        item.value.valid ? 'background_green' : 'background_red'
                      "
                    >
                      <div
                        class="col-md-1 mt-1 mb-1"
                        style="
                          width: max-content;
                          display: flex;
                          align-items: center;
                          justify-content: center;
                          background: transparent;
                        "
                      >
                        {{ j + 1 }}
                      </div>
                      <div
                        class="col-md-1 mt-1 mb-1"
                        style="
                          width: max-content;
                          display: flex;
                          align-items: center;
                          justify-content: center;
                          background: transparent;
                        "
                      >
                        {{ item.value.student_reg_id }}
                      </div>
                      <div
                        class="col-md-1 mt-1 mb-1"
                        style="
                          width: max-content;
                          display: flex;
                          align-items: center;
                          justify-content: center;
                          background: transparent;
                        "
                      >
                        {{ item.value.es_id }}
                      </div>

                      <select
                        class="form-select col-md-2 ml-2 mt-1 mb-1"
                        formControlName="category_id"
                        (change)="set_value_column8($event, j, 'category_id')"
                      >
                        <option value="">Select Category</option>
                        <option
                          *ngFor="let items of category_list"
                          [value]="items.id"
                        >
                          {{ items.category_name }}
                        </option>
                      </select>
                      <select
                        class="form-select col-md-2 ml-2 mt-1 mb-1"
                        formControlName="subject_id"
                        (change)="set_value_column8($event, j, 'subject_id')"
                      >
                        <option value="">Select Subject</option>
                        <option
                          *ngFor="let items of exam_subjects_list"
                          [value]="items.subject_id"
                        >
                          {{ items.subject_name }}
                        </option>
                      </select>

                      <input
                        class="form-control col-md-2 ml-2 mt-1 mb-1"
                        formControlName="marks"
                        [placeholder]="'Enter Marks'"
                        onkeypress="return ((event.charCode>=48 && event.charCode<=57)||(event.charCode==45||event.charCode==65||event.charCode==66||event.charCode==68||event.charCode==76||event.charCode==77||event.charCode==78||event.charCode==80||event.charCode==83||event.charCode==110||event.charCode==190||event.charCode==46))"
                        max=""
                        (change)="set_value_column8($event, j, 'marks')"
                      />
                      <div
                        style="
                          width: max-content;
                          display: flex;
                          align-items: center;
                          justify-content: center;
                          background: transparent;
                        "
                        class="col-md-1 mt-1 mb-1"
                      >
                        {{ item.value.max_marks }}
                      </div>
                      <!-- <select
                        class="form-select col-md-2 ml-2 mt-1 mb-1"
                        (change)="set_value_column7($event, j, 'index')"
                        formControlName="assigned_id"
                      >
                        <option value="">Select Fee Head</option>
                        <option
                          *ngFor="let items of fee_list2"
                          [value]="items.assigned_id"
                        >
                          {{ items.fee_head }}
                        </option>
                      </select> -->
                      <!-- <select
                        class="form-select col-md-2 ml-2 mt-1 mb-1"
                        formControlName="term_id"
                        (change)="set_value_column7($event, j, '')"
                      >
                        <option value="">Select Fee Term</option>
                        <option
                          *ngFor="
                            let items of fee_list2[
                              item.value.index ? item.value.index : 0
                            ].fee_term
                          "
                          [value]="items.term_id"
                        >
                          {{ items.term_name }}
                        </option>
                      </select> -->

                      <div
                        style="
                          width: max-content;
                          display: flex;
                          align-items: center;
                          justify-content: center;
                          background: transparent;
                        "
                        [ngClass]="
                          item.value.valid
                            ? 'green col-md-1 mt-1 mb-1'
                            : 'red col-md-1 mt-1 mb-1'
                        "
                      >
                        {{ item.value.valid ? "VALID" : "INVALID" }}
                      </div>
                    </div>
                  </div>
                </form>
                <div>
                  <button
                    (click)="submit_exam_marks()"
                    class="btn btn-success"
                    style="width: max-content"
                  >
                    SUBMIT
                  </button>
                </div>
              </div>
            </div>
          </div>
          <!-- <div
            id="migrate_invoice"
            class="col-12 col-md-12 ml-n3 tab-pane tabs-animation fade show"
            role="tabpanel"
            style="padding-right: 0px !important"
          >
            <div
              class="col-12 col-md-12 ml-n3 tab-pane tabs-animation fade show active"
              style="padding-right: 0px !important"
            >
              <div class="card-body pt-2">
                <div class="card-title">Select School</div>
                <form
                  [formGroup]="school_search_form6"
                  class="col-md-12 mt-n2"
                  style="display: flex; padding: 0px"
                >
                  <ng-autocomplete
                    class="col-md-3_5"
                    [data]="schoolsList"
                    formControlName="school"
                    [searchKeyword]="keyword"
                    placeholder="Enter School Name"
                    (selected)="set_school_for_fee($event)"
                    [itemTemplate]="list"
                    style="padding: 0px"
                  >
                  </ng-autocomplete>
                  
                                    <ng-template #list let-item>
                                      <a [innerHTML]="item.school_name"></a>
                                    </ng-template>
                  <input
                    formControlName="s_date"
                    type="date"
                    class="col-md-3 ml-3 form-control"
                  />
                  <input
                    formControlName="e_date"
                    [min]="school_search_form6.value.s_date"
                    type="date"
                    class="col-md-3 ml-3 form-control"
                  />
                  <button (click)="selected_school6()" class="btn btn-success ml-3" style="width:max-content" >SEARCH</button>
                </form>
              </div>
              <div
                *ngIf="inputs7.controls.length > 0"
                class="card-body mb-5 pt-0"
                style="overflow: auto"
              >
                <div class="card-title">Invoices Student List</div>

                <form [formGroup]="Invoice_Form">
                  <div formArrayName="inputs7">
                    <div
                      *ngFor="let item of inputs7.controls; let j = index"
                      [formGroupName]="j"
                      class="row"
                      [ngClass]="
                        item.value.valid ? 'background_green' : 'background_red'
                      "
                    >
                      <div
                        class="col-md-1 mt-1 mb-1"
                        style="
                          width: max-content;
                          display: flex;
                          align-items: center;
                          justify-content: center;
                          background: transparent;
                        "
                      >
                        {{ item.value.std_reg_id }}
                      </div>
                      <select
                        class="form-select col-md-2 ml-2 mt-1 mb-1"
                        (change)="set_value_column7($event, j, 'index')"
                        formControlName="assigned_id"
                      >
                        <option value="">Select Fee Head</option>
                        <option
                          *ngFor="let items of fee_list2"
                          [value]="items.assigned_id"
                        >
                          {{ items.fee_head }}
                        </option>
                      </select>
                      <select
                        class="form-select col-md-2 ml-2 mt-1 mb-1"
                        formControlName="term_id"
                        (change)="set_value_column7($event, j, '')"
                      >
                        <option value="">Select Fee Term</option>
                        <option
                          *ngFor="
                            let items of fee_list2[
                              item.value.index ? item.value.index : 0
                            ].fee_term
                          "
                          [value]="items.term_id"
                        >
                          {{ items.term_name }}
                        </option>
                      </select>
                      
                      <input
                        class="form-control col-md-1 ml-2 mt-1 mb-1"
                        formControlName="concession_amount"
                        [placeholder]="'Enter Concession'"
                        (change)="set_value_column7($event, j, '')"
                      />
                      <input
                        class="form-control col-md-2 ml-2 mt-1 mb-1"
                        formControlName="concession_reason"
                        [placeholder]="'Enter Reason'"
                      />
                      <div
                        style="
                          width: max-content;
                          display: flex;
                          align-items: center;
                          justify-content: center;
                          background: transparent;
                        "
                        [ngClass]="
                          item.value.valid ? 'green mt-1 mb-1' : 'red mt-1 mb-1'
                        "
                      >
                        {{ item.value.valid ? "VALID" : "INVALID" }}
                      </div>
                    </div>
                  </div>
                </form>
                <div>
                  <button
                    (click)="submit_concession()"
                    class="btn btn-success"
                    style="width: max-content"
                  >
                    SUBMIT
                  </button>
                </div>
              </div>
            </div>
          </div> -->
          <div
            id="migrate_notification"
            class="col-12 col-md-12 ml-n3 tab-pane tabs-animation fade show"
            role="tabpanel"
            style="padding-right: 0px !important"
          >
            <div
              class="col-12 col-md-12 ml-n3 tab-pane tabs-animation fade show active"
              style="padding-right: 0px !important"
            >
              <div class="card-body pt-2">
                <div class="card-title">Select School</div>
                <form
                  [formGroup]="school_search_form8"
                  class="col-md-12 mt-n2"
                  style="display: flex; padding: 0px"
                >
                  <ng-autocomplete
                    class="col-md-3_5"
                    [data]="schoolsList"
                    formControlName="school"
                    [searchKeyword]="keyword"
                    placeholder="Enter School Name"
                    (selected)="selected_school8($event)"
                    [itemTemplate]="list"
                    style="padding: 0px"
                  >
                  </ng-autocomplete>

                  <ng-template #list let-item>
                    <a [innerHTML]="item.school_name"></a>
                  </ng-template>
                </form>
              </div>
              <div class="second-tab-2 mt-n4 mb-4 card-body">
                <div class="card-title mt-n2">SAMPLE SHEET</div>
                <div>
                  <a
                    href="https://schoolknot.com/excel_templates/template_master_admin_bulk_upload_notification_updated.xlsx"
                    target="_blank"
                    class="btn btn-success"
                    style="width: max-content"
                  >
                    <img
                      class="msexcel"
                      src="https://schoolknot.com/req_excel.png"
                      style="margin-top: -5px"
                    />
                    DOWNLOAD SAMPLE EXCEL
                  </a>
                </div>
                <div *ngIf="school_id8" class="card-title mb-1 mt-2">
                  Add Notifications
                </div>
                <form
                  *ngIf="school_id8"
                  [formGroup]="bulk_notification_form"
                  class="display_flex ml-n2"
                >
                  <select
                    formControlName="type"
                    (change)="clear_bulk()"
                    class="form-select col-md-3 mml3"
                  >
                    <option value="1">Student</option>
                    <option value="2">Teacher</option>
                    <option value="3">Employee</option>
                  </select>

                  <select
                    class="col-md-3 ml-3 form-select"
                    formControlName="ay"
                  >
                    <option value="">Select Academic Year</option>
                    <option
                      [value]="item.id"
                      *ngFor="let item of academic_year_list"
                    >
                      {{ item.academic_year }}
                    </option>
                  </select>
                  <select
                  class="col-md-3 ml-3 form-select" formControlName="file_type">
                    <option value="1">EXCEL</option>
                    <option value="2">JSON</option>

                  </select>
                  <input *ngIf="bulk_notification_form.value.file_type=='1'"
                    (input)="bulk_notification($event)"
                    type="file"
                    formControlName="file"
                    class="ml-3 col-md-3"
                  />
                  <input *ngIf="bulk_notification_form.value.file_type=='2'"
                    (input)="bulk_notification2($event)"
                    type="file"
                    formControlName="file2"
                    class="ml-3 col-md-3"
                  />
                </form>
              </div>
              <div class="card-body" *ngIf="tableData2.length > 0">
                <div
                  style="
                    display: flex;
                    justify-content: space-between;
                    flex-direction: row;
                    align-items: center;
                  "
                >
                  <div class="card-title">Notification List</div>
                </div>

                <table *ngIf="bulk_notification_form.value.file_type=='1'" class="table ec-table">
                  <tr>
                    <th>S.No</th>
                    <th *ngFor="let item of tableTitle2">{{ item }}</th>
                    <!-- <th>Status</th> -->
                  </tr>
                  <tr *ngFor="let item of tableData2; let i = index">
                    <td>{{ i + 1 }}</td>
                    <td *ngFor="let items of item; let j = index">
                      <!-- <div *ngIf="j==3" [ngClass]="items==true?'green':'red'">
                          {{items==true?'VALID':'INVALID'}}

                        </div> -->
                      <div>
                        {{ items }}
                      </div>
                    </td>
                  </tr>
                </table>
                <div *ngIf="bulk_notification_form.value.file_type=='1'" class="row ml-0">
                  <button
                    (click)="bulk_upload_notification()"
                    class="btn btn-success"
                    style="width: max-content"
                  >
                    SUBMIT
                  </button>
                </div>
                <table *ngIf="bulk_notification_form.value.file_type=='2'" class="table ec-table">
                  <tr>
                    <th>S.No</th>
                    <th *ngFor="let item of tableTitle2">{{ item }}</th>
                    <!-- <th>Status</th> -->
                  </tr>
                  <tr 
                  [ngClass]="
                  item[8] ? 'background_green' : 'background_red'"*ngFor="let item of tableData2; let i = index">
                    <td style="background: none;">{{ i + 1 }}</td>
                    <td style="background: none;" *ngFor="let items of item; let j = index">
                      <div style="background: none;" *ngIf="j==8" [ngClass]="items==true?'green':'red'">
                          {{items==true?'VALID':'INVALID'}}

                        </div>
                      <div style="background: none;" *ngIf="j!=8&&j!=2&&j!=3&&j!=7">
                        {{ items }}
                      </div>
                      <div style="background: none;"  *ngIf="j==3||j==2">{{items==1?'Student':items==2?'Teacher':items==3?'Employee':'-'}}</div>
                      <div style="background: none;"  *ngIf="j==7">{{items==2?'Read':items==1?'UnRead':'-'}}</div>
                    </td>
                  </tr>
                </table>
                <div *ngIf="bulk_notification_form.value.file_type=='2'" class="row ml-0">
                  <button
                    (click)="bulk_upload_notification2()"
                    class="btn btn-success"
                    style="width: max-content"
                  >
                    SUBMIT
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div
            id="migrate_homework"
            class="col-12 col-md-12 ml-n3 tab-pane tabs-animation fade show"
            role="tabpanel"
            style="padding-right: 0px !important"
          >
            <div
              class="col-12 col-md-12 ml-n3 tab-pane tabs-animation fade show active"
              style="padding-right: 0px !important"
            >
              <div class="card-body pt-2">
                <div class="card-title">Select School</div>
                <form
                  [formGroup]="school_search_form9"
                  class="col-md-12 mt-n2"
                  style="display: flex; padding: 0px"
                >
                  <ng-autocomplete
                    class="col-md-3_5"
                    [data]="schoolsList"
                    formControlName="school"
                    [searchKeyword]="keyword"
                    placeholder="Enter School Name"
                    (selected)="selected_school9($event)"
                    [itemTemplate]="list"
                    style="padding: 0px"
                  >
                  </ng-autocomplete>

                  <ng-template #list let-item>
                    <a [innerHTML]="item.school_name"></a>
                  </ng-template>
                </form>
              </div>
              <div class="second-tab-2 mt-n4 mb-4 card-body">
                <div class="card-title mt-n2">SAMPLE SHEET</div>
                <div>
                  <a
                    href="https://schoolknot.com/excel_templates/template_bulk_upload_homework.xlsx"
                    target="_blank"
                    class="btn btn-success"
                    style="width: max-content"
                  >
                    <img
                      class="msexcel"
                      src="https://schoolknot.com/req_excel.png"
                      style="margin-top: -5px"
                    />
                    DOWNLOAD SAMPLE EXCEL
                  </a>
                </div>
                <div *ngIf="school_id9" class="card-title mb-1 mt-2">
                  Add Homework
                </div>
                <form
                  *ngIf="school_id9"
                  [formGroup]="bulk_homework_form"
                  class="display_flex ml-n2"
                >
                  

                  <select
                    class="col-md-3 ml-3 form-select"
                    formControlName="ay"
                  >
                    <option value="">Select Academic Year</option>
                    <option
                      [value]="item.id"
                      *ngFor="let item of academic_year_list"
                    >
                      {{ item.academic_year }}
                    </option>
                  </select>
                  <input
                    (input)="bulk_homework($event)"
                    type="file"
                    formControlName="file"
                    class="ml-3 col-md-3"
                  />
                  <input
                    (input)="bulk_homework2($event)"
                    type="file"
                    formControlName="file2"
                    class="ml-3 col-md-3"
                  />
                </form>
              </div>
              <div class="card-body" *ngIf="tableData3.length > 0" style="overflow:auto">
                <div
                  style="
                    display: flex;
                    justify-content: space-between;
                    flex-direction: row;
                    align-items: center;
                  "
                >
                  <div class="card-title">Homework List</div>
                </div>

                <table class="table ec-table">
                  <tr>
                    <th>S.No</th>
                    <th *ngFor="let item of tableTitle3">{{ item }}</th>
                    <!-- <th>Status</th> -->
                  </tr>
                  <tr  [ngClass]="
                  item[5] ? 'background_green' : 'background_red'
                " *ngFor="let item of tableData3; let i = index">
                    <td style="background:none">{{ i + 1 }}</td>
                    <td style="background:none" *ngFor="let items of item; let j = index">
                      <div style="background:none" *ngIf="j==5" [ngClass]="items==true?'green':'red'">
                          {{items==true?'VALID':'INVALID'}}

                        </div>
                      <div style="background:none" *ngIf="j!==5">
                        {{ items }}
                      </div>
                    </td>
                  </tr>
                </table>
                <div class="row ml-0">
                  <button
                    (click)="bulk_upload_homework()"
                    class="btn btn-success"
                    style="width: max-content"
                  >
                    SUBMIT
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div
            id="migrate_assignment"
            class="col-12 col-md-12 ml-n3 tab-pane tabs-animation fade show"
            role="tabpanel"
            style="padding-right: 0px !important"
          >
            <div
              class="col-12 col-md-12 ml-n3 tab-pane tabs-animation fade show active"
              style="padding-right: 0px !important"
            >
              <div class="card-body pt-2">
                <div class="card-title">Select School</div>
                <form
                  [formGroup]="school_search_form10"
                  class="col-md-12 mt-n2"
                  style="display: flex; padding: 0px"
                >
                  <ng-autocomplete
                    class="col-md-3_5"
                    [data]="schoolsList"
                    formControlName="school"
                    [searchKeyword]="keyword"
                    placeholder="Enter School Name"
                    (selected)="selected_school10($event)"
                    [itemTemplate]="list"
                    style="padding: 0px"
                  >
                  </ng-autocomplete>

                  <ng-template #list let-item>
                    <a [innerHTML]="item.school_name"></a>
                  </ng-template>
                </form>
              </div>
              <div class="second-tab-2 mt-n4 mb-4 card-body">
                <div class="card-title mt-n2">SAMPLE SHEET</div>
                <div>
                  <a
                    href="https://schoolknot.com/excel_templates/template_bulk_upload_assignment.xlsx"
                    target="_blank"
                    class="btn btn-success"
                    style="width: max-content"
                  >
                    <img
                      class="msexcel"
                      src="https://schoolknot.com/req_excel.png"
                      style="margin-top: -5px"
                    />
                    DOWNLOAD SAMPLE EXCEL
                  </a>
                </div>
                <div *ngIf="school_id10" class="card-title mb-1 mt-2">
                  Add Assignment
                </div>
                <form
                  *ngIf="school_id10"
                  [formGroup]="bulk_assignment_form"
                  class="display_flex ml-n2"
                >
                  

                  <select
                    class="col-md-3 ml-3 form-select"
                    formControlName="ay"
                  >
                    <option value="">Select Academic Year</option>
                    <option
                      [value]="item.id"
                      *ngFor="let item of academic_year_list"
                    >
                      {{ item.academic_year }}
                    </option>
                  </select>
                  <input
                    (input)="bulk_assignment($event)"
                    type="file"
                    formControlName="file"
                    class="ml-3 col-md-3"
                  />
                  <input
                    (input)="bulk_assignment2($event)"
                    type="file"
                    formControlName="file2"
                    class="ml-3 col-md-3"
                  />
                </form>
              </div>
              <div class="card-body" *ngIf="tableData4.length > 0" style="overflow:auto">
                <div
                  style="
                    display: flex;
                    justify-content: space-between;
                    flex-direction: row;
                    align-items: center;
                  "
                >
                  <div class="card-title">Assignment List</div>
                </div>

                <table class="table ec-table">
                  <tr>
                    <th>S.No</th>
                    <th *ngFor="let item of tableTitle4">{{ item }}</th>
                    <!-- <th>Status</th> -->
                  </tr>
                  <tr  [ngClass]="
                  item[6]? 'background_green' : 'background_red'
                " *ngFor="let item of tableData4; let i = index">
                    <td style="background:none">{{ i + 1 }}</td>
                    <td style="background:none" *ngFor="let items of item; let j = index">
                      <div style="background:none" *ngIf="j==6" [ngClass]="items==true?'green':'red'">
                          {{items==true?'VALID':'INVALID'}}

                        </div>
                      <div *ngIf="j!=6" style="background:none">
                        {{ items }}
                      </div>
                    </td>
                  </tr>
                </table>
                <div class="row ml-0">
                  <button
                    (click)="bulk_upload_assignment()"
                    class="btn btn-success"
                    style="width: max-content"
                  >
                    SUBMIT
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div
            id="migrate_circular"
            class="col-12 col-md-12 ml-n3 tab-pane tabs-animation fade show"
            role="tabpanel"
            style="padding-right: 0px !important"
          >
            <div
              class="col-12 col-md-12 ml-n3 tab-pane tabs-animation fade show active"
              style="padding-right: 0px !important"
            >
              <div class="card-body pt-2">
                <div class="card-title">Select School</div>
                <form
                  [formGroup]="school_search_form11"
                  class="col-md-12 mt-n2"
                  style="display: flex; padding: 0px"
                >
                  <ng-autocomplete
                    class="col-md-3_5"
                    [data]="schoolsList"
                    formControlName="school"
                    [searchKeyword]="keyword"
                    placeholder="Enter School Name"
                    (selected)="selected_school11($event)"
                    [itemTemplate]="list"
                    style="padding: 0px"
                  >
                  </ng-autocomplete>

                  <ng-template #list let-item>
                    <a [innerHTML]="item.school_name"></a>
                  </ng-template>
                </form>
              </div>
              <div class="second-tab-2 mt-n4 mb-4 card-body">
                <div class="card-title mt-n2">SAMPLE SHEET</div>
                <div>
                  <a
                    href="https://schoolknot.com/excel_templates/template_bulk_upload_circulars.xlsx"
                    target="_blank"
                    class="btn btn-success"
                    style="width: max-content"
                  >
                    <img
                      class="msexcel"
                      src="https://schoolknot.com/req_excel.png"
                      style="margin-top: -5px"
                    />
                    DOWNLOAD SAMPLE EXCEL
                  </a>
                </div>
                <div *ngIf="school_id11" class="card-title mb-1 mt-2">
                  Add Circular
                </div>
                <form
                  *ngIf="school_id11"
                  [formGroup]="bulk_circular_form"
                  class="display_flex ml-n2"
                >
                  

                  <select
                    class="col-md-3 ml-3 form-select"
                    formControlName="ay"
                  >
                    <option value="">Select Academic Year</option>
                    <option
                      [value]="item.id"
                      *ngFor="let item of academic_year_list"
                    >
                      {{ item.academic_year }}
                    </option>
                  </select>
                  <input
                    (input)="bulk_circular($event)"
                    type="file"
                    formControlName="file"
                    class="ml-3 col-md-3"
                  />
                </form>
              </div>
              <div class="card-body" *ngIf="tableData5.length > 0">
                <div
                  style="
                    display: flex;
                    justify-content: space-between;
                    flex-direction: row;
                    align-items: center;
                  "
                >
                  <div class="card-title">Circular List</div>
                </div>

                <table class="table ec-table">
                  <tr>
                    <th>S.No</th>
                    <th *ngFor="let item of tableTitle5">{{ item }}</th>
                    <!-- <th>Status</th> -->
                  </tr>
                  <tr *ngFor="let item of tableData5; let i = index">
                    <td>{{ i + 1 }}</td>
                    <td *ngFor="let items of item; let j = index">
                      <!-- <div *ngIf="j==3" [ngClass]="items==true?'green':'red'">
                          {{items==true?'VALID':'INVALID'}}

                        </div> -->
                      <div>
                        {{ items }}
                      </div>
                    </td>
                  </tr>
                </table>
                <div class="row ml-0">
                  <button
                    (click)="bulk_upload_circular()"
                    class="btn btn-success"
                    style="width: max-content"
                  >
                    SUBMIT
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div
            id="migrate_showcase"
            class="col-12 col-md-12 ml-n3 tab-pane tabs-animation fade show"
            role="tabpanel"
            style="padding-right: 0px !important"
          >
            <div
              class="col-12 col-md-12 ml-n3 tab-pane tabs-animation fade show active"
              style="padding-right: 0px !important"
            >
              <div class="card-body pt-2">
                <div class="card-title">Select School</div>
                <form
                  [formGroup]="school_search_form12"
                  class="col-md-12 mt-n2"
                  style="display: flex; padding: 0px"
                >
                  <ng-autocomplete
                    class="col-md-3_5"
                    [data]="schoolsList"
                    formControlName="school"
                    [searchKeyword]="keyword"
                    placeholder="Enter School Name"
                    (selected)="selected_school12($event)"
                    [itemTemplate]="list"
                    style="padding: 0px"
                  >
                  </ng-autocomplete>

                  <ng-template #list let-item>
                    <a [innerHTML]="item.school_name"></a>
                  </ng-template>
                </form>
              </div>
              <div class="second-tab-2 mt-n4 mb-4 card-body">
                <div class="card-title mt-n2">SAMPLE SHEET</div>
                <div>
                  <a
                    href="https://schoolknot.com/excel_templates/template_bulk_upload_showcase.xlsx"
                    target="_blank"
                    class="btn btn-success"
                    style="width: max-content"
                  >
                    <img
                      class="msexcel"
                      src="https://schoolknot.com/req_excel.png"
                      style="margin-top: -5px"
                    />
                    DOWNLOAD SAMPLE EXCEL
                  </a>
                </div>
                <div *ngIf="school_id12" class="card-title mb-1 mt-2">
                  Add Showcase
                </div>
                <form
                  *ngIf="school_id12"
                  [formGroup]="bulk_showcase_form"
                  class="display_flex ml-n2"
                >
                  

                  <select
                    class="col-md-3 ml-3 form-select"
                    formControlName="ay"
                  >
                    <option value="">Select Academic Year</option>
                    <option
                      [value]="item.id"
                      *ngFor="let item of academic_year_list"
                    >
                      {{ item.academic_year }}
                    </option>
                  </select>
                  <input
                    (input)="bulk_showcase($event)"
                    type="file"
                    formControlName="file"
                    class="ml-3 col-md-3"
                  />
                </form>
              </div>
              <div class="card-body" *ngIf="tableData6.length > 0">
                <div
                  style="
                    display: flex;
                    justify-content: space-between;
                    flex-direction: row;
                    align-items: center;
                  "
                >
                  <div class="card-title">Showcase List</div>
                </div>

                <table class="table ec-table">
                  <tr>
                    <th>S.No</th>
                    <th *ngFor="let item of tableTitle6">{{ item }}</th>
                    <!-- <th>Status</th> -->
                  </tr>
                  <tr *ngFor="let item of tableData6; let i = index">
                    <td>{{ i + 1 }}</td>
                    <td *ngFor="let items of item; let j = index">
                      <!-- <div *ngIf="j==3" [ngClass]="items==true?'green':'red'">
                          {{items==true?'VALID':'INVALID'}}

                        </div> -->
                      <div>
                        {{ items }}
                      </div>
                    </td>
                  </tr>
                </table>
                <div class="row ml-0">
                  <button
                    (click)="bulk_upload_showcase()"
                    class="btn btn-success"
                    style="width: max-content"
                  >
                    SUBMIT
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div
            id="migrate_attendance"
            class="col-12 col-md-12 ml-n3 tab-pane tabs-animation fade show"
            role="tabpanel"
            style="padding-right: 0px !important"
          >
            <div
              class="col-12 col-md-12 ml-n3 tab-pane tabs-animation fade show active"
              style="padding-right: 0px !important"
            >
              <div class="card-body pt-2">
                <div class="card-title">Select School</div>
                <form
                  [formGroup]="school_search_form13"
                  class="col-md-12 mt-n2"
                  style="display: flex; padding: 0px"
                >
                  <ng-autocomplete
                    class="col-md-3_5"
                    [data]="schoolsList"
                    formControlName="school"
                    [searchKeyword]="keyword"
                    placeholder="Enter School Name"
                    (selected)="selected_school13($event)"
                    [itemTemplate]="list"
                    style="padding: 0px"
                  >
                  </ng-autocomplete>

                  <ng-template #list let-item>
                    <a [innerHTML]="item.school_name"></a>
                  </ng-template>
                </form>
              </div>
              <div class="second-tab-2 mt-n4 mb-4 card-body">
                <div class="card-title mt-n2">SAMPLE SHEET</div>
                <div>
                  <a
                    href="https://schoolknot.com/excel_templates/template_bulk_upload_assignment.xlsx"
                    target="_blank"
                    class="btn btn-success"
                    style="width: max-content"
                  >
                    <img
                      class="msexcel"
                      src="https://schoolknot.com/req_excel.png"
                      style="margin-top: -5px"
                    />
                    DOWNLOAD SAMPLE EXCEL
                  </a>
                </div>
                <div *ngIf="school_id13" class="card-title mb-1 mt-2">
                  Add Attendance
                </div>
                <form
                  *ngIf="school_id13"
                  [formGroup]="bulk_attendance_form"
                  class="display_flex ml-n2"
                >
                  

                  <select
                    class="col-md-3 ml-3 form-select"
                    formControlName="ay"
                  >
                    <option value="">Select Academic Year</option>
                    <option
                      [value]="item.id"
                      *ngFor="let item of academic_year_list"
                    >
                      {{ item.academic_year }}
                    </option>
                  </select>
                  <input
                    (input)="bulk_attendance($event)"
                    type="file"
                    formControlName="file"
                    class="ml-3 col-md-3"
                  />
                  <!-- <input
                    (input)="bulk_assignment2($event)"
                    type="file"
                    formControlName="file2"
                    class="ml-3 col-md-3"
                  /> -->
                </form>
              </div>
              <div class="card-body" *ngIf="tableData7.length > 0" style="overflow:auto">
                <div
                  style="
                    display: flex;
                    justify-content: space-between;
                    flex-direction: row;
                    align-items: center;
                  "
                >
                  <div class="card-title">Attendance List</div>
                </div>

                <table class="table ec-table">
                  <tr>
                    <th>S.No</th>
                    <th *ngFor="let item of tableTitle7">{{ item }}</th>
                    <!-- <th>Status</th> -->
                  </tr>
                  <tr  [ngClass]="
                  item[2]? 'background_green' : 'background_red'
                " *ngFor="let item of tableData7; let i = index">
                    <td style="background:none">{{ i + 1 }}</td>
                    <td style="background:none" *ngFor="let items of item; let j = index">
                      <div style="background:none" *ngIf="j==2" [ngClass]="items==true?'green':'red'">
                          {{items==true?'VALID':'INVALID'}}

                        </div>
                      <div *ngIf="j!=2" style="background:none">
                        {{ items }}
                      </div>
                    </td>
                  </tr>
                </table>
                <div class="row ml-0">
                  <button
                    (click)="bulk_upload_attendance()"
                    class="btn btn-success"
                    style="width: max-content"
                  >
                    SUBMIT
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
